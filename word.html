<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="css/KixCss_ltr.css">
</head>
<body>
<div style="background-color: rgb(255, 255, 255);width: 816px;height: 1056px;" class="kix-page kix-page-paginated">
    <div class="kix-print-block kix-page-header" style="min-height: 72px; max-height: 422.4px; width: 816px;">
        <div style="padding: 7px 120px;">
            <div class="kix-paragraphrenderer">
                <div class="kix-lineview" style="height: 12px; direction: ltr; text-align: left;">
                    <div class="kix-lineview-content" style="user-select: none; margin-left: 0px; padding-top: 0px;">
                        <span style="display: inline-block; height: 10000px"></span><span
                            style="display: inline-block; position:relative; top: -9992.32px;"><span
                            class="goog-inline-block kix-lineview-text-block"
                            style="width: 0px; padding-left: 0px;"><span class="kix-wordhtmlgenerator-word-node"
                                                                         style="font-size:8px;font-family:Lato;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;"><span
                            class="goog-inline-block" style="width:8.015625px;height:9.6px">&nbsp;</span></span></span></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="kix-page-content-wrapper" style="background-color: rgb(255, 255, 255); height: 984px;">
        <div>
            <div style="height: 912px;">
                <div class="kix-page-column" style="height: 912px; left: 0px; width: 816px;">
                    <div style="margin-left: 120px; margin-right: 120px;">
                        <div>
                            <div>
                                <div class="kix-paragraphrenderer">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="kix-page-column-bottom">
                        <div class="kix-print-block" style="margin-left: 120px; margin-right: 120px;">
                            <div class="kix-page-column-footnotes-separator kix-page-column-footnotes-separator-hidden"
                                 style="width: 192px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="kix-print-block kix-page-bottom" style="min-height: 72px; max-height: 422.4px; width: 816px;">
            <div style="padding: 7px 120px;">
                <div class="kix-paragraphrenderer" id="">
                    <div class="kix-lineview" style="height: 34px; direction: ltr; text-align: left;">
                        <div class="kix-lineview-content"
                             style="user-select: none; margin-left: 0px; padding-top: 13.3333px;"><span
                                style="display: inline-block; height: 10000px"></span><span
                                style="display: inline-block; position:relative; top: -9987.2px;"><span
                                class="goog-inline-block kix-lineview-text-block"
                                style="width: 0px; padding-left: 0px;"><span class="kix-wordhtmlgenerator-word-node"
                                                                             style="font-size:13.333333333333332px;font-family:Lato;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;"><span
                                class="goog-inline-block"
                                style="width:8.90625px;height:15.999999999999998px">&nbsp;</span></span></span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="kix-print-block kix-page-bottom" style="min-height: 72px; max-height: 422.4px; width: 816px;">
        <div style="padding: 7px 120px;">
            <div class="kix-paragraphrenderer">
                <div class="kix-lineview" style="height: 34px; direction: ltr; text-align: left;">
                    <div class="kix-lineview-content"
                         style="user-select: none; margin-left: 0px; padding-top: 13.3333px;"><span
                            style="display: inline-block; height: 10000px"></span><span
                            style="display: inline-block; position:relative; top: -9987.2px;"><span
                            class="goog-inline-block kix-lineview-text-block"
                            style="width: 0px; padding-left: 0px;"><span class="kix-wordhtmlgenerator-word-node"
                                                                         style="font-size:13.333333333333332px;font-family:Lato;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;"><span
                            class="goog-inline-block" style="width:8.90625px;height:15.999999999999998px">&nbsp;</span></span></span></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="js/jquery-1.7.2.min.js"></script>
<script>
    var str = "上合组织青岛峰会将于6月9日至10日举行，这是继2012年北京峰会后上合组织再次回到它的诞生12地中国，也是今年中国举行的又一重大主场外交活动。不久前，习近平主席在集体会见上合组织成员国外长时，对上合组织发展作出上述评价。"
    var linewidth = 576;

    function charWidth(char) {
        var sensor = $('<span>' + char + '</span>').css({
            // display: 'none',
            "position": "absolute",
            "left": "-100000px",
            "top": "-100000px",
            "font-size": "13.333333333333332px",
            "font-family": "Lato",
            "color": "#000000",
            "background-color": "transparent",
            "font-weight": "400",
            "font-style": "normal",
            "font-variant": "normal",
            "text-decoration": "none",
            "vertical-align": "baseline",
            "white-space": "pre"
        });
        $('body').append(sensor);
        return sensor.get(0).getBoundingClientRect().width;
    }

    function startWithWord(str) {
        var reg=/^(\d|[A-Za-z]|-|\/){1,}/;
        return reg.test(str);;
        // return !isNaN(c) || c == '(';
    }

    $(function () {
        var sum = 0;
        var s = 0, e = 0;
        var se = [];
        var last, lastw = 0;
        for (let i = 0; i < str.length; i++) {
            var c = str.substr(i, 1);
            var w = charWidth(c);
            var sum = sum + w;
            var iw = startWithWord(str.substring(i));
            if (iw) {
                if (!last)
                    last = i;
                lastw = lastw + w;
            }
            if (sum >= linewidth) {
                if (last && iw) {
                    e = last;
                    se.push([s, e]);

                    s = e;
                    sum = lastw;

                    lastw = 0;
                    last = null;
                } else {
                    e = i;
                    se.push([s, e]);
                    s = e;
                    sum = w;
                }
            } else {
                if (!iw && last){
                    lastw = 0;
                    last = null;
                }
            }
            if (i == str.length - 1) {
                se.push([s, str.length]);
            }
        }
        var p = $('.kix-page-content-wrapper .kix-paragraphrenderer');
        for (var i = 0; i < se.length; i++) {
            var style = "font-size:13.333333333333332px;font-family:Lato;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;";
            var ss = [
                '<div class="kix-lineview" style="height: 21px; direction: ltr; text-align: left;">',
                '    <div class="kix-lineview-content" style="user-select: none; margin-left: 0px; padding-top: 0px;">',
                '        <span style="display: inline-block; position:relative;">',
                '           <span class="goog-inline-block kix-lineview-text-block" style="width: 574px; padding-left: 0px;">',
                '               <span class="kix-wordhtmlgenerator-word-node" style="' + style + '">' + str.substring(se[i][0], se[i][1]) + '</span>',
                '           </span>',
                '        </span>',
                '    </div>',
                '</div>'
            ].join('');
            p.append(ss);
        }
    });
</script>
</body>
</html>